window.Tagify&&document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll('[data-tagify="1"]').forEach(t=>{const c=t.getAttribute("data-tagify-maxTags")||"Infinity",s=t.getAttribute("data-tagify-url"),o=new Tagify(t,{maxTags:c});s&&o.on("input",function(n){var a;const i=n.detail.value;i.length>0&&(a&&a.abort(),a=new AbortController,o.loading(!0),fetch(`${t.getAttribute("data-tagify-url")}?search=${i}&autocomplete=1`,{signal:a.signal}).then(e=>e.json()).then(e=>{o.whitelist=e,o.loading(!1).dropdown.show(i)}).catch(e=>{console.error(e)}))})})});window.Choices&&document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll('[data-choices="1"]').forEach(t=>{const c=t.getAttribute("data-choices-removeItemButton")!=0,s=t.getAttribute("data-choices-maxItemCount")||-1,o=t.getAttribute("data-choices-addChoices")!=0,n=new Choices(t,{removeItemButton:c,maxItemCount:s,addChoices:o}),a=t.getAttribute("data-choices-url");a&&n.passedElement.element.addEventListener("search",async i=>{try{var e;e&&e.abort(),e=new AbortController;const u=await(await fetch(`${a}?search=${i.detail.value}&autocomplete=1`,{signal:e.signal})).json();n.clearChoices(),n.setChoices(u,"value","label",!0)}catch(r){console.error(r)}})})});
